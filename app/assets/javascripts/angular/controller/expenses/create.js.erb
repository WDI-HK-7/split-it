app.controller('ExpensesCreateCtrl', ['$scope', '$http', '$location', function($scope, $http, $location){
  console.log("ExpensesCreateCtrl Is Working!")

  $scope.form = {};
  $scope.expense = {};
  $scope.transaction = {};

  var url = "<%= ENV['URL'] %>" || "http://localhost:3000/";



  $scope.form.create = function() {
    var expense_data = {
      expense: {
        total_amount: $scope.expense.total_amount,
        expense_name: $scope.expense.expense_name
      },
      transaction: {
        amount: $scope.transaction.amount,
        payee_id: $scope.transaction.payee
      }
    }
    
    $http.post(url + 'expenses', expense_data).success(function(response) {
      console.log(response);
    })

  }

}])